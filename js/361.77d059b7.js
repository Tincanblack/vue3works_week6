"use strict";(self["webpackChunkvue3works_week6"]=self["webpackChunkvue3works_week6"]||[]).push([[361],{3361:function(a,t,e){e.r(t),e.d(t,{default:function(){return N}});var s=e(3396);function n(a,t,e,n,o,l){const i=(0,s.up)("AdminNav"),r=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(i,{onLogOut:l.logOut},null,8,["onLogOut"]),o.isCheckLogin?((0,s.wg)(),(0,s.j4)(r,{key:0})):(0,s.kq)("",!0)],64)}var o=e(9242);const l={class:"navbar navbar-expand-lg navbar-dark bg-dark py-3"},i={class:"container-fluid"},r=(0,s.Uk)("後臺管理"),c=(0,s._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,s._)("span",{class:"navbar-toggler-icon"})],-1),u={class:"collapse navbar-collapse",id:"navbarNav"},d={class:"navbar-nav me-auto"},h={class:"nav-item"},v=(0,s.Uk)("訂單管理"),g={class:"nav-item"},p=(0,s.Uk)("產品管理"),m=(0,s._)("hr",{class:"d-md-none text-white-50"},null,-1),k={class:"navbar-nav d-flex flex-row flex-wrap ms-md-auto"},b={class:"nav-item col-6 col-md-auto"},_=(0,s.Uk)("返回前台"),f={class:"nav-item col-6 col-md-auto"};function w(a,t,e,n,w,$){const x=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("nav",l,[(0,s._)("div",i,[(0,s.Wm)(x,{class:"navbar-brand",to:"/admin"},{default:(0,s.w5)((()=>[r])),_:1}),c,(0,s._)("div",u,[(0,s._)("ul",d,[(0,s._)("li",h,[(0,s.Wm)(x,{class:"nav-link",to:"/admin/orders"},{default:(0,s.w5)((()=>[v])),_:1})]),(0,s._)("li",g,[(0,s.Wm)(x,{class:"nav-link",to:"/admin/products"},{default:(0,s.w5)((()=>[p])),_:1})])]),m,(0,s._)("ul",k,[(0,s._)("li",b,[(0,s.Wm)(x,{class:"nav-link",to:"/"},{default:(0,s.w5)((()=>[_])),_:1})]),(0,s._)("li",f,[(0,s._)("button",{class:"btn btn-primary",type:"button",onClick:t[0]||(t[0]=(0,o.iM)(((...a)=>$.logOut&&$.logOut(...a)),["prevent"]))}," 登出 ")])])])])])}var $={methods:{logOut(){this.$emit("logOut")}}},x=e(89);const L=(0,x.Z)($,[["render",w]]);var O=L,C={components:{AdminNav:O},data(){return{isCheckLogin:!1}},methods:{checkLogin(){const a=document.cookie.replace(/(?:(?:^|.*;\s*)userId\s*=\s*([^;]*).*$)|^.*$/,"$1");a?(this.$http.defaults.headers.common["Authorization"]=a,this.$http.post("https://vue3-course-api.hexschool.io/v2/api/user/check",{api_token:this.token}).then((()=>{this.isCheckLogin=!0})).catch((a=>{alert(a.data.message),this.$router.push("/login")}))):(alert("尚未登入"),this.$router.push("/login"))},logOut(){this.$http.post("https://vue3-course-api.hexschool.io/v2/logout").then((a=>{this.isCheckLogin=!1,alert(a.data.message),this.$router.push("/login")})).catch((a=>{alert(a.data.message)}))}},mounted(){this.checkLogin()}};const y=(0,x.Z)(C,[["render",n]]);var N=y}}]);
//# sourceMappingURL=361.77d059b7.js.map