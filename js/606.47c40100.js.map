{"version":3,"file":"js/606.47c40100.js","mappings":"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","sources":["webpack://vue3works_week6/../src/index.ts","webpack://vue3works_week6/./src/libs/emitter.js","webpack://vue3works_week6/./src/views/FrontView.vue","webpack://vue3works_week6/./src/components/FrontNav.vue","webpack://vue3works_week6/./src/components/FrontNav.vue?c5ec","webpack://vue3works_week6/./src/views/FrontView.vue?9526"],"sourcesContent":["export type EventType = string | symbol;\n\n// An event handler can take an optional event argument\n// and should not return a value\nexport type Handler<T = unknown> = (event: T) => void;\nexport type WildcardHandler<T = Record<string, unknown>> = (\n\ttype: keyof T,\n\tevent: T[keyof T]\n) => void;\n\n// An array of all currently registered event handlers for a type\nexport type EventHandlerList<T = unknown> = Array<Handler<T>>;\nexport type WildCardEventHandlerList<T = Record<string, unknown>> = Array<WildcardHandler<T>>;\n\n// A map of event types and their corresponding event handlers.\nexport type EventHandlerMap<Events extends Record<EventType, unknown>> = Map<\n\tkeyof Events | '*',\n\tEventHandlerList<Events[keyof Events]> | WildCardEventHandlerList<Events>\n>;\n\nexport interface Emitter<Events extends Record<EventType, unknown>> {\n\tall: EventHandlerMap<Events>;\n\n\ton<Key extends keyof Events>(type: Key, handler: Handler<Events[Key]>): void;\n\ton(type: '*', handler: WildcardHandler<Events>): void;\n\n\toff<Key extends keyof Events>(type: Key, handler?: Handler<Events[Key]>): void;\n\toff(type: '*', handler: WildcardHandler<Events>): void;\n\n\temit<Key extends keyof Events>(type: Key, event: Events[Key]): void;\n\temit<Key extends keyof Events>(type: undefined extends Events[Key] ? Key : never): void;\n}\n\n/**\n * Mitt: Tiny (~200b) functional event emitter / pubsub.\n * @name mitt\n * @returns {Mitt}\n */\nexport default function mitt<Events extends Record<EventType, unknown>>(\n\tall?: EventHandlerMap<Events>\n): Emitter<Events> {\n\ttype GenericEventHandler =\n\t\t| Handler<Events[keyof Events]>\n\t\t| WildcardHandler<Events>;\n\tall = all || new Map();\n\n\treturn {\n\n\t\t/**\n\t\t * A Map of event names to registered handler functions.\n\t\t */\n\t\tall,\n\n\t\t/**\n\t\t * Register an event handler for the given type.\n\t\t * @param {string|symbol} type Type of event to listen for, or `'*'` for all events\n\t\t * @param {Function} handler Function to call in response to given event\n\t\t * @memberOf mitt\n\t\t */\n\t\ton<Key extends keyof Events>(type: Key, handler: GenericEventHandler) {\n\t\t\tconst handlers: Array<GenericEventHandler> | undefined = all!.get(type);\n\t\t\tif (handlers) {\n\t\t\t\thandlers.push(handler);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tall!.set(type, [handler] as EventHandlerList<Events[keyof Events]>);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Remove an event handler for the given type.\n\t\t * If `handler` is omitted, all handlers of the given type are removed.\n\t\t * @param {string|symbol} type Type of event to unregister `handler` from, or `'*'`\n\t\t * @param {Function} [handler] Handler function to remove\n\t\t * @memberOf mitt\n\t\t */\n\t\toff<Key extends keyof Events>(type: Key, handler?: GenericEventHandler) {\n\t\t\tconst handlers: Array<GenericEventHandler> | undefined = all!.get(type);\n\t\t\tif (handlers) {\n\t\t\t\tif (handler) {\n\t\t\t\t\thandlers.splice(handlers.indexOf(handler) >>> 0, 1);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tall!.set(type, []);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Invoke all handlers for the given type.\n\t\t * If present, `'*'` handlers are invoked after type-matched handlers.\n\t\t *\n\t\t * Note: Manually firing '*' handlers is not supported.\n\t\t *\n\t\t * @param {string|symbol} type The event type to invoke\n\t\t * @param {Any} [evt] Any value (object is recommended and powerful), passed to each handler\n\t\t * @memberOf mitt\n\t\t */\n\t\temit<Key extends keyof Events>(type: Key, evt?: Events[Key]) {\n\t\t\tlet handlers = all!.get(type);\n\t\t\tif (handlers) {\n\t\t\t\t(handlers as EventHandlerList<Events[keyof Events]>)\n\t\t\t\t\t.slice()\n\t\t\t\t\t.map((handler) => {\n\t\t\t\t\t\thandler(evt!);\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\thandlers = all!.get('*');\n\t\t\tif (handlers) {\n\t\t\t\t(handlers as WildCardEventHandlerList<Events>)\n\t\t\t\t\t.slice()\n\t\t\t\t\t.map((handler) => {\n\t\t\t\t\t\thandler(type, evt!);\n\t\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n}\n","import mitt from \"mitt\";\nconst emitter = mitt();\n\nexport default emitter;\n","<template lang=\"\">\n\t<FrontNav></FrontNav>\n\t<router-view></router-view>\n</template>\n<script>\nimport FrontNav from \"@/components/FrontNav.vue\";\nexport default {\n\tcomponents: {\n\t\tFrontNav,\n\t},\n};\n</script>\n<style lang=\"\"></style>\n","<template>\n\t<nav class=\"navbar navbar-expand-lg navbar-light bg-light py-3\">\n\t\t<div class=\"container-fluid\">\n\t\t\t<router-link class=\"navbar-brand\" to=\"/\">前台</router-link>\n\t\t\t<button\n\t\t\t\tclass=\"navbar-toggler\"\n\t\t\t\ttype=\"button\"\n\t\t\t\tdata-bs-toggle=\"collapse\"\n\t\t\t\tdata-bs-target=\"#navbarNav\"\n\t\t\t\taria-controls=\"navbarNav\"\n\t\t\t\taria-expanded=\"false\"\n\t\t\t\taria-label=\"Toggle navigation\"\n\t\t\t>\n\t\t\t\t<span class=\"navbar-toggler-icon\"></span>\n\t\t\t</button>\n\t\t\t<div class=\"collapse navbar-collapse\" id=\"navbarNav\">\n\t\t\t\t<ul class=\"navbar-nav me-auto\">\n\t\t\t\t\t<li class=\"nav-item\">\n\t\t\t\t\t\t<router-link class=\"nav-link\" to=\"/\">首頁</router-link>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class=\"nav-itemF\">\n\t\t\t\t\t\t<router-link class=\"nav-link\" to=\"/products\"\n\t\t\t\t\t\t\t>產品列表</router-link\n\t\t\t\t\t\t>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t\t<ul class=\"navbar-nav d-flex\">\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<router-link\n\t\t\t\t\t\t\tclass=\"btn btn-primary position-relative\"\n\t\t\t\t\t\t\tto=\"/carts\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t去結帳\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tclass=\"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{{ cartsData.carts.length }}\n\t\t\t\t\t\t\t\t<span class=\"visually-hidden\"\n\t\t\t\t\t\t\t\t\t>unread messages</span\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</router-link>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class=\"nav-item\">\n\t\t\t\t\t\t<router-link class=\"nav-link\" to=\"/admin\"\n\t\t\t\t\t\t\t>後臺管理</router-link\n\t\t\t\t\t\t>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t</nav>\n</template>\n\n<script>\nimport emitter from \"@/libs/emitter\";\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tcartsData: {\n\t\t\t\tcarts: [],\n\t\t\t},\n\t\t};\n\t},\n\tmethods: {\n\t\tgetCartList() {\n\t\t\tthis.$http\n\t\t\t\t.get(\n\t\t\t\t\t`${process.env.VUE_APP_URL}/api/${process.env.VUE_APP_PATH}/cart`\n\t\t\t\t)\n\t\t\t\t.then((res) => {\n\t\t\t\t\t// 將收到的data資料展賦予給cartsData\n\t\t\t\t\tthis.cartsData = res.data.data;\n\t\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\t// 跳出錯誤訊息\n\t\t\t\t\talert(err.data.message);\n\t\t\t\t});\n\t\t},\n\t},\n\tmounted() {\n\t\tthis.getCartList();\n\t\temitter.on(\"get-cart-count\", () => {\n\t\t\tthis.getCartList();\n\t\t});\n\t},\n};\n</script>\n","import { render } from \"./FrontNav.vue?vue&type=template&id=24719647\"\nimport script from \"./FrontNav.vue?vue&type=script&lang=js\"\nexport * from \"./FrontNav.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"H:\\\\learn\\\\vue3works_week6\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./FrontView.vue?vue&type=template&id=723dad92&lang=true\"\nimport script from \"./FrontView.vue?vue&type=script&lang=js\"\nexport * from \"./FrontView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"H:\\\\learn\\\\vue3works_week6\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["all","Map","on","type","handler","handlers","get","push","set","off","splice","indexOf","emit","evt","slice","map","emitter","mitt","_createVNode","_component_FrontNav","_component_router_view","class","_createElementVNode","id","_createElementBlock","_component_router_link","to","_hoisted_4","$data","carts","length","_hoisted_14","data","cartsData","methods","getCartList","this","$http","then","res","catch","err","alert","message","mounted","__exports__","components","FrontNav","render"],"sourceRoot":""}