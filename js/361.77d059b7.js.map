{"version":3,"file":"js/361.77d059b7.js","mappings":"6SACCA,EAAAA,EAAAA,IAAsCC,EAAA,CAA3BC,SAAQC,EAAAA,QAAM,qBACNC,EAAAA,eAAAA,EAAAA,EAAAA,OAAnBC,EAAAA,EAAAA,IAA+CC,EAAA,CAAAC,IAAAA,MAA/C,oB,uBCDKC,MAAM,oD,GACLA,MAAM,mB,WACoC,Q,GAC9CC,EAAAA,EAAAA,GAUS,UATRD,MAAM,iBACNE,KAAK,SACL,iBAAe,WACf,iBAAe,aACf,gBAAc,YACd,gBAAc,QACd,aAAW,qBAPZ,EASCD,EAAAA,EAAAA,GAAyC,QAAnCD,MAAM,0BATb,G,GAWKA,MAAM,2BAA2BG,GAAG,a,GACpCH,MAAM,sB,GACLA,MAAM,Y,WAEP,Q,GAGCA,MAAM,Y,WAEP,Q,GAIJC,EAAAA,EAAAA,GAAsC,MAAlCD,MAAM,2BAAyB,S,GAC/BA,MAAM,mD,GACLA,MAAM,8B,WAEP,Q,GAGCA,MAAM,8B,0EAlCdI,EAAAA,EAAAA,IA8CM,MA9CN,EA8CM,EA7CLH,EAAAA,EAAAA,GA4CM,MA5CN,EA4CM,EA3CLT,EAAAA,EAAAA,IAAgEa,EAAA,CAAnDL,MAAM,eAAeM,GAAG,UAArC,C,kBAA8C,IAAI,M,MAClDC,GAWAN,EAAAA,EAAAA,GA8BM,MA9BN,EA8BM,EA7BLA,EAAAA,EAAAA,GAWK,KAXL,EAWK,EAVJA,EAAAA,EAAAA,GAIK,KAJL,EAIK,EAHJT,EAAAA,EAAAA,IAECa,EAAA,CAFYL,MAAM,WAAWM,GAAG,iBAAjC,C,kBACE,IAAI,M,SAGPL,EAAAA,EAAAA,GAIK,KAJL,EAIK,EAHJT,EAAAA,EAAAA,IAECa,EAAA,CAFYL,MAAM,WAAWM,GAAG,mBAAjC,C,kBACE,IAAI,M,UAIRE,GACAP,EAAAA,EAAAA,GAeK,KAfL,EAeK,EAdJA,EAAAA,EAAAA,GAIK,KAJL,EAIK,EAHJT,EAAAA,EAAAA,IAECa,EAAA,CAFYL,MAAM,WAAWM,GAAG,KAAjC,C,kBACE,IAAI,M,SAGPL,EAAAA,EAAAA,GAQK,KARL,EAQK,EAPJA,EAAAA,EAAAA,GAMS,UALRD,MAAM,kBACNE,KAAK,SACJO,QAAK,8BAAUd,EAAAA,QAAAA,EAAAA,UAAAA,IAAM,eACtB,kBAUP,OACCe,QAAS,CACRC,SACCC,KAAKC,MAAM,a,QChDd,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,KAEpE,QFAA,GACCC,WAAY,CACXC,SAAAA,GAEDC,OACC,MAAO,CACNC,cAAc,IAGhBR,QAAS,CACRS,aAEC,MAAMC,EAAQC,SAASC,OAAOC,QAC7B,+CACA,MAEGH,GACHR,KAAKY,MAAMC,SAASC,QAAQC,OAAO,iBAAmBP,EACtDR,KAAKY,MACHI,KAAM,yDAA4C,CAClDC,UAAWjB,KAAKQ,QAEhBU,MAAK,KACLlB,KAAKM,cAAe,KAEpBa,OAAOC,IAEPC,MAAMD,EAAIf,KAAKiB,SACftB,KAAKuB,QAAQC,KAAK,eAGpBH,MAAM,QACNrB,KAAKuB,QAAQC,KAAK,YAGpBzB,SACCC,KAAKY,MACHI,KAAM,kDACNE,MAAMO,IACNzB,KAAKM,cAAe,EACpBe,MAAMI,EAAIpB,KAAKiB,SACftB,KAAKuB,QAAQC,KAAK,aAElBL,OAAOC,IACPC,MAAMD,EAAIf,KAAKiB,cAInBI,UACC1B,KAAKO,eGnDP,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASoB,KAEpE","sources":["webpack://vue3works_week6/./src/views/admin/AdminView.vue","webpack://vue3works_week6/./src/components/AdminNav.vue","webpack://vue3works_week6/./src/components/AdminNav.vue?c345","webpack://vue3works_week6/./src/views/admin/AdminView.vue?282a"],"sourcesContent":["<template lang=\"\">\n\t<AdminNav @logOut=\"logOut\"></AdminNav>\n\t<router-view v-if=\"isCheckLogin\"></router-view>\n</template>\n<script>\nimport AdminNav from \"@/components/AdminNav.vue\";\n\nexport default {\n\tcomponents: {\n\t\tAdminNav,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tisCheckLogin: false,\n\t\t};\n\t},\n\tmethods: {\n\t\tcheckLogin() {\n\t\t\t// 將token寫入至headers\n\t\t\tconst token = document.cookie.replace(\n\t\t\t\t/(?:(?:^|.*;\\s*)userId\\s*=\\s*([^;]*).*$)|^.*$/,\n\t\t\t\t\"$1\"\n\t\t\t);\n\t\t\tif (token) {\n\t\t\t\tthis.$http.defaults.headers.common[\"Authorization\"] = token;\n\t\t\t\tthis.$http\n\t\t\t\t\t.post(`${process.env.VUE_APP_URL}/api/user/check`, {\n\t\t\t\t\t\tapi_token: this.token,\n\t\t\t\t\t})\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tthis.isCheckLogin = true;\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\t// 如果無登入情況時或是驗證失敗會導向至登入頁並重新登入;\n\t\t\t\t\t\talert(err.data.message);\n\t\t\t\t\t\tthis.$router.push(\"/login\");\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\talert(\"尚未登入\");\n\t\t\t\tthis.$router.push(\"/login\");\n\t\t\t}\n\t\t},\n\t\tlogOut() {\n\t\t\tthis.$http\n\t\t\t\t.post(`${process.env.VUE_APP_URL}/logout`)\n\t\t\t\t.then((res) => {\n\t\t\t\t\tthis.isCheckLogin = false;\n\t\t\t\t\talert(res.data.message);\n\t\t\t\t\tthis.$router.push(\"/login\");\n\t\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\talert(err.data.message);\n\t\t\t\t});\n\t\t},\n\t},\n\tmounted() {\n\t\tthis.checkLogin();\n\t},\n};\n</script>\n<style lang=\"\"></style>\n","<template lang=\"\">\n\t<nav class=\"navbar navbar-expand-lg navbar-dark bg-dark py-3\">\n\t\t<div class=\"container-fluid\">\n\t\t\t<router-link class=\"navbar-brand\" to=\"/admin\">後臺管理</router-link>\n\t\t\t<button\n\t\t\t\tclass=\"navbar-toggler\"\n\t\t\t\ttype=\"button\"\n\t\t\t\tdata-bs-toggle=\"collapse\"\n\t\t\t\tdata-bs-target=\"#navbarNav\"\n\t\t\t\taria-controls=\"navbarNav\"\n\t\t\t\taria-expanded=\"false\"\n\t\t\t\taria-label=\"Toggle navigation\"\n\t\t\t>\n\t\t\t\t<span class=\"navbar-toggler-icon\"></span>\n\t\t\t</button>\n\t\t\t<div class=\"collapse navbar-collapse\" id=\"navbarNav\">\n\t\t\t\t<ul class=\"navbar-nav me-auto\">\n\t\t\t\t\t<li class=\"nav-item\">\n\t\t\t\t\t\t<router-link class=\"nav-link\" to=\"/admin/orders\"\n\t\t\t\t\t\t\t>訂單管理</router-link\n\t\t\t\t\t\t>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class=\"nav-item\">\n\t\t\t\t\t\t<router-link class=\"nav-link\" to=\"/admin/products\"\n\t\t\t\t\t\t\t>產品管理</router-link\n\t\t\t\t\t\t>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t\t<hr class=\"d-md-none text-white-50\" />\n\t\t\t\t<ul class=\"navbar-nav d-flex flex-row flex-wrap ms-md-auto\">\n\t\t\t\t\t<li class=\"nav-item col-6 col-md-auto\">\n\t\t\t\t\t\t<router-link class=\"nav-link\" to=\"/\"\n\t\t\t\t\t\t\t>返回前台</router-link\n\t\t\t\t\t\t>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class=\"nav-item col-6 col-md-auto\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"btn btn-primary\"\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t@click.prevent=\"logOut\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t登出\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t</nav>\n</template>\n<script>\nexport default {\n\tmethods: {\n\t\tlogOut() {\n\t\t\tthis.$emit(\"logOut\");\n\t\t},\n\t},\n};\n</script>\n<style lang=\"\"></style>\n","import { render } from \"./AdminNav.vue?vue&type=template&id=5975ebe0&lang=true\"\nimport script from \"./AdminNav.vue?vue&type=script&lang=js\"\nexport * from \"./AdminNav.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"H:\\\\learn\\\\vue3works_week6\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./AdminView.vue?vue&type=template&id=547cd0fc&lang=true\"\nimport script from \"./AdminView.vue?vue&type=script&lang=js\"\nexport * from \"./AdminView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"H:\\\\learn\\\\vue3works_week6\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createVNode","_component_AdminNav","onLogOut","$options","$data","_createBlock","_component_router_view","key","class","_createElementVNode","type","id","_createElementBlock","_component_router_link","to","_hoisted_4","_hoisted_11","onClick","methods","logOut","this","$emit","__exports__","components","AdminNav","data","isCheckLogin","checkLogin","token","document","cookie","replace","$http","defaults","headers","common","post","api_token","then","catch","err","alert","message","$router","push","res","mounted","render"],"sourceRoot":""}